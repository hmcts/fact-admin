{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/tabs/macro.njk" import govukTabs %}

{% extends "template.njk" %}

{% block pageTitle %}
  Edit Court
{% endblock %}

{% block beforeContent %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      <a id="courts" class="govuk-link govuk-link--no-visited-state" href="/courts">courts</a>
    </div>

    <div class="govuk-grid-column-one-quarter">
      <a id="my-account" class="govuk-link govuk-link--no-visited-state" href="#">my account</a>
      <a id="logout" class="govuk-link govuk-link--no-visited-state" href="/logout">log out</a>
    </div>
  </div>

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      {% if updated %}
        <div class="govuk-panel govuk-panel--confirmation" id="updated-message">
          <h1 class="govuk-panel__title">
            Court information updated
          </h1>
        </div>
      {% endif %}
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-three-quarters">
          <h1 id="court-name" class="govuk-heading-l">Editing - {{ name }}</h1>
        </div>

        <div class="govuk-grid-column-one-quarter">
          <a id="view-in-new-window" class="govuk-link" rel="noreferrer noopener" target="_blank"
             href="/courts/{{ slug }}">view in new window</a>
        </div>
      </div>

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-three-quarters">
            {% set generalHtml %}
              {% include "./tabs/general.njk" %}
            {% endset -%}
            {% set openingHoursHtml %}
              {% include "./tabs/openingHours.njk" %}
            {% endset -%}
            {% set phoneNumbersHtml %}
               {% include "./tabs/phoneNumbers.njk" %}
            {% endset -%}
            {% set emailsHtml %}
               {% include "./tabs/emails.njk" %}
            {% endset -%}
            {% set courtTypesHtml %}
                {% include "./tabs/types.njk" %}
            {% endset -%}
             <input id='slug' type='hidden' value='{{slug}}'></input>
            {{ govukTabs({
              items: [
                {
                  label: "General",
                  id: "general",
                  panel: {
                  html: generalHtml
                }
                },
                {
                  label: "Opening Hours",
                  id: "opening-hours",
                  panel: {
                  html: openingHoursHtml
                }
                },
                {
                  label: "Phone Numbers",
                  id: "phone-numbers",
                  panel: {
                  html: phoneNumbersHtml
                }
                },
                {
                  label: "Emails",
                  id: "emails",
                  panel: {
                  html: emailsHtml
                }
                },
                {
                  label: "Types",
                  id: "court-types",
                  panel: {
                  html: courtTypesHtml
                }
                }
              ]
            }) }}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
